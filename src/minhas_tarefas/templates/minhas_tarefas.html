{% extends 'menu.html' %}
{% load static %}
{% block content %}
<style>
.file-icon {
    font-size: 24px;
    margin-right: 10px;
}

.remove-button {
    cursor: pointer;
    color: red;
}
</style>
<div class="content-page">
    <div class="content">

        <!-- Start Content-->
        <div class="container-fluid">

            <div class="row">
                <div class="col-12">
                    <div class="page-title-box justify-content-between d-flex align-items-lg-center flex-lg-row flex-column">     
                        <h4 class="page-title">Minhas Tarefas</h4>
                        <ol class="breadcrumb m-0">
                            <li class="breadcrumb-item active">Minhas Tarefas</li>
                        </ol>
                    </div>
                </div>
            </div>     

            <div class="row">
                <div class="col-12">
                    <div class="board">
                        <div class="tasks" data-plugin="dragula" data-containers='["task-list-one", "task-list-two", "task-list-three", "task-list-four"]'>
                            <h5 class="mt-0 task-header">A FAZER</h5>
                            
                            <div id="task-list-one" class="task-list-items">

                                <!-- Task Item -->
                                <div class="card mb-0" task_id="1">
                                    <div class="card-body p-3">
                                        <span class="float-end badge bg-danger-subtle text-danger">Alta</span>
                                        <small class="text-muted">Prazo: 18/11/2023</small>

                                        <h5 class="my-2 fs-16">
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#task-detail-modal" class="text-body">Logo EFG EaD</a>
                                        </h5>

                                        <p class="mb-0">
                                            <span class="pe-2 text-nowrap mb-2 d-inline-block">
                                                <i class="ri-briefcase-2-line text-muted"></i>
                                                0/3
                                            </span>
                                            <span class="text-nowrap mb-2 d-inline-block">
                                                <i class="ri-discuss-line text-muted"></i>
                                                <b>2</b> Comentários
                                            </span>
                                        </p>

                                      

                                        <div class="avatar-group mt-2">
                                            <a href="javascript: void(0);" class="avatar-group-item"
                                                data-bs-toggle="tooltip" data-bs-placement="top"
                                                title="Tosha">
                                                <img src="{% static 'layouts/assets/images/users/avatar-1.jpg' %}" alt=""
                                                    class="rounded-circle avatar-xs">
                                            </a>
                                           
                                        </div>
                                    </div> <!-- end card-body -->
                                </div>
                                <!-- Task Item End -->

                                <!-- Task Item -->
                                <div class="card mb-0" task_id="3">
                                    <div class="card-body p-3">
                                        <span class="float-end badge bg-warning-subtle text-warning">Média</span>
                                        <small class="text-muted">19/08/2023</small>

                                        <h5 class="my-2 fs-16">
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#task-detail-modal" class="text-body">Templates para abertura e fechamento de videoaulas EFG EaD</a>
                                        </h5>

                                        <p class="mb-0">
                                            <span class="pe-2 text-nowrap mb-2 d-inline-block">
                                                <i class="ri-briefcase-2-line text-muted"></i>
                                                0/1
                                            </span>
                                            <span class="text-nowrap mb-2 d-inline-block">
                                                <i class="ri-discuss-line text-muted"></i>
                                                <b>2</b> Comentários
                                            </span>
                                        </p>

                                      
                                        <div class="avatar-group mt-2">
                                            <a href="javascript: void(0);" class="avatar-group-item"
                                                data-bs-toggle="tooltip" data-bs-placement="top"
                                                title="Tosha">
                                                <img src="{% static 'layouts/assets/images/users/avatar-1.jpg' %}" alt=""
                                                    class="rounded-circle avatar-xs">
                                            </a>
                                           
                                        </div>
                                    </div> <!-- end card-body -->
                                </div>
                                <!-- Task Item End -->

                                <!-- Task Item -->
                                <div class="card mb-0" task_id="5">
                                    <div class="card-body p-3">
                                        <span class="float-end badge bg-success-subtle text-success">Low</span>
                                        <small class="text-muted">20/11/2023</small>

                                        <h5 class="my-2 fs-16">
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#task-detail-modal" class="text-body">SAC redes sociais</a>
                                        </h5>

                                        <p class="mb-0">
                                            <span class="pe-2 text-nowrap mb-2 d-inline-block">
                                                <i class="ri-briefcase-2-line text-muted"></i>
                                                2/3
                                            </span>
                                            <span class="text-nowrap mb-2 d-inline-block">
                                                <i class="ri-discuss-line text-muted"></i>
                                                <b>1</b> Comentário
                                            </span>
                                        </p>

                                       
                                        <div class="avatar-group mt-2">
                                            <a href="javascript: void(0);" class="avatar-group-item"
                                                data-bs-toggle="tooltip" data-bs-placement="top"
                                                title="Tosha">
                                                <img src="{% static 'layouts/assets/images/users/avatar-1.jpg' %}" alt=""
                                                    class="rounded-circle avatar-xs">
                                            </a>
                                           
                                        </div>
                                    </div> <!-- end card-body -->
                                </div>
                                <!-- Task Item End -->
                                
                            </div> <!-- end company-list-1-->
                        </div>

                        <div class="tasks">
                            <h5 class="mt-0 task-header text-uppercase">EM PROGRESSO</h5>
                            
                            <div id="task-list-two" class="task-list-items">

                            

                            </div> <!-- end company-list-2-->
                        </div>


                        <div class="tasks">
                            <h5 class="mt-0 task-header text-uppercase">EM REVISÃO</h5>
                            <div id="task-list-three" class="task-list-items">

                    

                            </div> <!-- end company-list-3-->
                        </div>

                        <div class="tasks">
                            <h5 class="mt-0 task-header text-uppercase">CONCLUÍDO</h5>
                            <div id="task-list-four" class="task-list-items">

             
                                
                            </div> <!-- end company-list-4-->
                        </div>

                    </div> <!-- end .board-->
                </div> <!-- end col -->
            </div>
            <!-- end row-->
            
        </div> <!-- container -->

    </div> <!-- content -->
    <div class="modal fade task-modal-content" id="task-detail-modal" tabindex="-1" role="dialog" aria-labelledby="TaskDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="TaskDetailModalLabel">Logo EFG EaD<span class="badge bg-danger ms-2">Alta</span></h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    
                    <div class="p-2">
                      
                        <div class="row">
                            <div class="col-md-4">
                                <div class="mb-4">
                                    <h5>Data de Criação</h5>
                                    <p>17/11/2023 <small class="text-muted">10:15</small></p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-4">
                                    <h5>Prazo de Entrega</h5>
                                    <p>220/11/2023 <small class="text-muted">10:15</small></p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="mb-4" id="tooltip-container">
                                    <h5>Solicitante:</h5>
                                    <div class="avatar-group mt-1">
                                        <a href="javascript: void(0);" class="avatar-group-item"
                                            data-bs-toggle="tooltip" data-bs-placement="top"
                                            title="Tosha">
                                            <img src="{% static 'layouts/assets/images/users/avatar-1.jpg' %}" alt=""
                                                class="rounded-circle avatar-xs">
                                        </a>
                                      
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end row-->

                        <div class="col-xl-12">
                            <div class="card">
                                <div class="card-body">
                                   
                                    <ul class="nav nav-pills bg-nav-pills nav-justified mb-3">
                                        <li class="nav-item">
                                            <a href="#home1" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0 active">
                                                Job
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#profile1" data-bs-toggle="tab" aria-expanded="true" class="nav-link rounded-0 ">
                                                Adicionar Peças
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#settings1" data-bs-toggle="tab" aria-expanded="false" class="nav-link rounded-0">
                                                Designar Usuários
                                            </a>
                                        </li>
                                        
                                    </ul>
    
                                    <div class="tab-content">
                                        <div class="tab-pane show active" id="home1">
                                            <p>Favor inserir aqui a logo da EFG EaD. Se não conseguirmos achar a peça, favor criar a marca. Usar o padrão das Escolas do Futuro, colocando apenas a informação Núcleo EaD, no lugar do nome das escolas. </p>
                                            <div class="accordion" id="accordionExample">
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header" id="headingOne">
                                                        <button class="accordion-button fw-medium collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
                                                            aria-expanded="true" aria-controls="collapseOne">
                                                            Logo EFG
                                                        </button>
                                                    </h2>
                                                    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                                                        data-bs-parent="#accordionExample">
                                                        <div class="accordion-body">
                                                            <div class="row d-flex align-items-center justify-content-center">
                                                           
                                                                <div class="col-12 col-sm-12 col-md-12" style="text-align: center;">
                                                                    <label for="fileInput" class="btn btn-primary">
                                                                        <i class="ri-file-fill"></i> ESCOLHER ARQUIVOS
                                                                    </label>
                                                                </div>
                                                                    <input style="width: 100%;" type="file" id="fileInput" class="d-none" multiple onchange="showSelectedFiles()">
                                                                    <div  class="row mt-2" id="fileDisplay"></div>
                                                          
                                                            </div>
                                                            <hr>
                                                            <button style="width: 100%;" type="button" class="btn btn-success"><i class="ri-checkbox-circle-line me-1"></i> <span>Realizar Entrega</span> </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion-item">
                                                    <h2 class="accordion-header" id="headingTwo">
                                                        <button class="accordion-button fw-medium collapsed" type="button" data-bs-toggle="collapse"
                                                            data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                            Arte Gráfica
                                                        </button>
                                                    </h2>
                                                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                                        data-bs-parent="#accordionExample">
                                                        <div class="accordion-body">
                                                            <div class="row d-flex align-items-center justify-content-center">
                                                
                                                                <div class="col-12 col-sm-12 col-md-12" style="text-align: center;">
                                                                    <label for="fileInput" class="btn btn-primary">
                                                                        <i class="ri-file-fill"></i> ESCOLHER ARQUIVOS
                                                                    </label>
                                                                </div>
                                                                    <input style="width: 100%;" type="file" id="fileInput" class="d-none" multiple onchange="showSelectedFiles()">
                                                                    <div  class="row mt-2" id="fileDisplay"></div>
                                                          
                                                            </div>
                                                            <hr>
                                                            <button style="width: 100%;" type="button" class="btn btn-success"><i class="ri-checkbox-circle-line me-1"></i> <span>Realizar Entrega</span> </button>
                                                        </div>
                                                    </div>
                                                </div>
                                          
                                            </div>
                                        </div>
                                        <div class="tab-pane " id="profile1">
                                            <div class="row">
                                                <div class="col-9">
                                                    <div class="mb-3">
                                                    
                                                        <input placeholder="Digite o nome da peça:" type="text" id="simpleinput" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="col-3">
                                                    <div class="mb-3">
                                                        <button style="width: 100%;" type="button" class="btn btn-warning"><i class="ri-add-circle-line me-1"></i> <span>Cadastrar</span> </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="settings1">
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="mb-3">
                                                        
                                                        <select id="select2_peca" class="js-example-basic-single" name="state">
                             
                                                            <option>Logo EFG</option>
                                                            <option>Arte Gráfica</option>
                                                          </select>
                                                       
                                                    </div>
                                                </div>

                                                <div class="col-6">
                                                    <div class="mb-3">
                                                        
                                                        <select id="select2_usuario" class="js-example-basic-single" name="state">
                            
                                                            <option>Janaína</option>
                                                            <option>Hérica</option>
                                                          </select>
                                                       
                                                    </div>
                                                </div>

                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <button style="width: 100%;" type="button" class="btn btn-warning"><i class="ri-user-follow-fill me-1"></i> <span>Designar</span> </button>
                                                    </div>
                                                </div>

                                                <div class="col-12">
                                                    <div class="mb-3">
                                                        <div class="table-responsive-sm">
                                                            <table class="table table-bordered table-centered mb-0">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Usuário Designado</th>
                                                                        <th>Data de Designação</th>
                                                                        <th>Peça</th>
                                                                        <th>Status</th>
                                                                        <th>Ação</th>
                                                                      
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr>
                                                                        <td class="table-user">
                                                                            <img src="{% static 'layouts/assets/images/users/avatar-6.jpg' %}" alt="table-user" class="me-2 rounded-circle" />
                                                                            Janaína
                                                                        </td>
                                                                        <td>17/11/2023</td>
                                                                        <td>Logo EFG</td>
                                                                        <td><span class="badge badge-outline-warning rounded-pill">Não Iniciou</span></td>
                                                                        <td><button style="width: 100%;" type="button" class="btn btn-info" data-bs-toggle="modal" data-bs-target="#bs-example-modal-lg"><i class="ri-eye-line me-1"></i> <span>Visualizar</span> </button></td>
                                                                      
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="table-user">
                                                                            <img src="{% static 'layouts/assets/images/users/avatar-7.jpg' %}" alt="table-user" class="me-2 rounded-circle" />
                                                                            Hérica
                                                                        </td>
                                                                        <td>17/11/2023</td>
                                                                        <td>Arte Gráfica</td>
                                                                        <td><span class="badge badge-outline-warning rounded-pill">Não Iniciou</span></td>
                                                                        <td><button style="width: 100%;" type="button" class="btn btn-info"><i class="ri-eye-line me-1"></i> <span>Visualizar</span> </button></td>
                                                                        
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="table-user">
                                                                            <img src="{% static 'layouts/assets/images/users/avatar-8.jpg' %}" alt="table-user" class="me-2 rounded-circle" />
                                                                            Marina
                                                                        </td>
                                                                        <td>17/11/2023</td>
                                                                        <td>Logo EFG</td>
                                                                        <td><span class="badge badge-outline-warning rounded-pill">Não Iniciou</span></td>
                                                                        <td><button style="width: 100%;" type="button" class="btn btn-info"><i class="ri-eye-line me-1"></i> <span>Visualizar</span> </button></td>
                                                                       
                                                                    </tr>
                                                                    <tr>
                                                                        <td class="table-user">
                                                                            <img src="{% static 'layouts/assets/images/users/avatar-9.jpg' %}" alt="table-user" class="me-2 rounded-circle" />
                                                                            Raquel
                                                                        </td>
                                                                        <td>17/11/2023</td>
                                                                        <td>Arte Gráfica</td>
                                                                        <td><span class="badge badge-outline-warning rounded-pill">Não Iniciou</span></td>
                                                                        <td><button style="width: 100%;" type="button" class="btn btn-info"><i class="ri-eye-line me-1"></i> <span>Visualizar</span> </button></td>
                                                                       
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div> <!-- end table-responsive--> 
                                                    </div>
                                                </div>
                                            </div>
                                           
                                        </div>
                                    </div>
                                </div> <!-- end card-body -->
                            </div> <!-- end card-->
                        </div> <!-- end col -->

                        <ul class="nav nav-tabs nav-bordered mb-3">
                            <li class="nav-item">
                                <a href="#home-b1" data-bs-toggle="tab" aria-expanded="false" class="nav-link active">
                                    Comentários
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="#profile-b1" data-bs-toggle="tab" aria-expanded="true" class="nav-link">
                                    Arquivos
                                </a>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div class="tab-pane show active" id="home-b1">
                                <textarea class="form-control mb-2" placeholder="Escreva seu comentário" id="example-textarea" rows="3"></textarea>
                                <div class="text-end">
                                    <div class="btn-group mb-2 d-none d-sm-inline-block">
                                        <button type="button" class="btn btn-link btn-sm text-muted fs-18"><i class="ri-attachment-2"></i></button>
                                    </div>
                                    <div class="btn-group mb-2 d-none d-sm-inline-block">
                                        <button type="button" class="btn btn-primary btn-sm">Comentar</button>
                                    </div>
                                </div>

                                <div class="d-flex mt-2">
                                    <img class="me-3 avatar-sm rounded-circle" src="{% static 'layouts/assets/images/users/avatar-3.jpg' %}" alt="Generic placeholder image">
                                    <div class="w-100">
                                        <h5 class="mt-0">Jeremy Tomlinson</h5>
                                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in
                                        vulputate at, tempus viverra turpis.

                                    </div>
                                    
                                </div>
                                <hr>
                                
                                <div class="d-flex mt-2">
                                    <img class="me-3 avatar-sm rounded-circle" src="{% static 'layouts/assets/images/users/avatar-2.jpg' %}" alt="Generic placeholder image">
                                    <div class="w-100">
                                        <h5 class="mt-0">Jeremy Tomlinson</h5>
                                        Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin. Cras purus odio, vestibulum in
                                        vulputate at, tempus viverra turpis.

                                    </div>
                                    
                                </div>

                            </div>
                            <div class="tab-pane" id="profile-b1">
                                <div class="card mb-1 shadow-none border">
                                    <div class="p-2">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <div class="avatar-sm">
                                                    <span class="avatar-title rounded">
                                                        .ZIP
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col ps-0">
                                                <a href="javascript:void(0);" class="text-muted fw-bold">-admin-design.zip</a>
                                                <p class="mb-0">2.3 MB</p>
                                            </div>
                                            <div class="col-auto">
                                                <!-- Button -->
                                                <a href="javascript:void(0);" class="btn btn-link btn-lg text-muted">
                                                    <i class="ri-download-2-line"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card mb-1 shadow-none border">
                                    <div class="p-2">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <img src="{% static 'layouts/assets/images/small/small-1.jpg' %}" class="avatar-sm rounded" alt="file-image" />
                                            </div>
                                            <div class="col ps-0">
                                                <a href="javascript:void(0);" class="text-muted fw-bold">Dashboard-design.jpg</a>
                                                <p class="mb-0">3.25 MB</p>
                                            </div>
                                            <div class="col-auto">
                                                <!-- Button -->
                                                <a href="javascript:void(0);" class="btn btn-link btn-lg text-muted">
                                                    <i class="ri-download-2-line"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="card mb-0 shadow-none border">
                                    <div class="p-2">
                                        <div class="row align-items-center">
                                            <div class="col-auto">
                                                <div class="avatar-sm">
                                                    <span class="avatar-title bg-secondary rounded">
                                                        .MP4
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col ps-0">
                                                <a href="javascript:void(0);" class="text-muted fw-bold">Admin-bug-report.mp4</a>
                                                <p class="mb-0">7.05 MB</p>
                                            </div>
                                            <div class="col-auto">
                                                <!-- Button -->
                                                <a href="javascript:void(0);" class="btn btn-link btn-lg text-muted">
                                                    <i class="ri-download-2-line"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                
                            </div>
                        </div>

                    </div> <!-- .p-2 -->
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="modal fade" id="bs-example-modal-lg"  aria-labelledby="myLargeModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="myLargeModalLabel">Large modal</h4>
                    <button type="button" class="btn-close"data-bs-toggle="modal" data-bs-target="#task-detail-modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ...
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>

    <!-- Footer Start -->
    <footer class="footer">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <script>document.write(new Date().getFullYear())</script> © Jidox - Coderthemes.com
                </div>
                <div class="col-md-6">
                    <div class="text-md-end footer-links d-none d-md-block">
                        <a href="javascript: void(0);">About</a>
                        <a href="javascript: void(0);">Support</a>
                        <a href="javascript: void(0);">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- end Footer -->

</div>
<script>
function showSelectedFiles() {
    const fileInput = document.getElementById('fileInput');
    const fileDisplay = document.getElementById('fileDisplay');

    // Limpa a exibição de arquivos anteriores
    fileDisplay.innerHTML = "";

    const files = fileInput.files;
    for (let i = 0; i < files.length; i++) {
        const fileName = files[i].name;
        const listItem = document.createElement('div');
        listItem.className = "col-auto";
        listItem.innerHTML = `
            <i class="ri-file-fill"></i>
            ${fileName}
            <i class="ri-eraser-line remove-button" onclick="removeFile(${i})"></i>
        `;
        fileDisplay.appendChild(listItem);
    }
}

function removeFile(index) {
    const fileInput = document.getElementById('fileInput');
    const files = Array.from(fileInput.files);
    files.splice(index, 1);

    // Cria um novo input de arquivo e copia os arquivos restantes
    const newFileInput = document.createElement('input');
    newFileInput.type = 'file';
    newFileInput.id = 'fileInput';
    newFileInput.multiple = true;
    newFileInput.style.display = 'none';
    newFileInput.addEventListener('change', showSelectedFiles);

    const dataTransfer = new DataTransfer();
    files.forEach(file => dataTransfer.items.add(file));
    newFileInput.files = dataTransfer.files;

    // Substitui o input de arquivo anterior
    fileInput.parentNode.replaceChild(newFileInput, fileInput);

    // Atualize a lista de arquivos selecionados
    showSelectedFiles();
}
</script>
{% endblock %}